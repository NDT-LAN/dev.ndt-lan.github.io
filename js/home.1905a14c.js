(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"1f0f":function(t,e,s){"use strict";var n=s("83f7"),i=s.n(n);i.a},2048:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"NDT-Page"},[s("h1",{staticClass:"NDT-Page__Header"},[t._v("\n    "+t._s(t.page.name)+"\n  ")]),s("div",{staticClass:"NDT-Page__Body",domProps:{innerHTML:t._s(t.page.body)}}),t.page.type?[s(t.page.type,{tag:"component"})]:t._e()],2)},i=[],a=(s("96cf"),s("3040")),r=(s("7514"),s("c93e")),c=(s("cadf"),s("551c"),s("097d"),s("2f62")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"NDT-Tickets"},[t.hasSignup?[s("p",{staticClass:"NDT-Tickets__MyTicket"},[t._v("\n        Du har reservert plass til "+t._s(t.event.name)),s("br"),t._v("\n        Vi har sendt billett til deg på e-post ("+t._s(t.user.email)+")\n      ")]),s(t.steps.seatmap.component,{tag:"component",staticClass:"NDT-Tickets__Step",attrs:{"read-only":""}})]:[t.ticketSaleAvailable&&!t.ticketSaleClosed?[s("section",{staticClass:"NDT-Tickets__Steps"},[[s("div",{class:t.seatmapClass,on:{click:function(e){t.changeStep("seatmap")}}},[s("icon",{staticClass:"NDT-Tickets__Steps__Step__Icon",attrs:{icon:t.seatmapIcon}}),s("span",{staticClass:"NDT-Tickets__Steps__Step__Label"},[t._v("Velg plass")])],1),s("div",{class:t.ticketClass,on:{click:function(e){t.changeStep("ticket")}}},[s("icon",{staticClass:"NDT-Tickets__Steps__Step__Icon",attrs:{icon:t.ticketIcon}}),s("span",{staticClass:"NDT-Tickets__Steps__Step__Label"},[t._v("Velg billett")])],1),s("div",{class:t.paymentClass,on:{click:function(e){t.changeStep("payment")}}},[s("icon",{staticClass:"NDT-Tickets__Steps__Step__Icon",attrs:{icon:t.paymentIcon}}),s("span",{staticClass:"NDT-Tickets__Steps__Step__Label"},[t._v("Betaling")])],1)]],2),s("div",{staticClass:"NDT-Tickets__Nav"},[s("b-button",{staticClass:"NDT-Tickets__Previous",attrs:{size:"sm",disabled:!t.previousEnabled},on:{click:t.decrementStep}},[s("icon",{staticClass:"NDT-Tickets__Previous__NavIcon",attrs:{icon:"arrow-left"}}),s("span",{staticClass:"NDT-Tickets__Previous__NavLabel"},[t._v("Forrige")])],1),s("b-button",{staticClass:"NDT-Tickets__Next",attrs:{size:"sm",disabled:!t.nextEnabled},on:{click:t.incrementStep}},[s("span",{staticClass:"NDT-Tickets__Next__NavLabel"},[t._v("Neste")]),s("icon",{staticClass:"NDT-Tickets__Next__NavIcon",attrs:{icon:"arrow-right"}})],1)],1),t.step?[s(t.steps[t.step].component,{key:t.step,tag:"component",staticClass:"NDT-Tickets__Step"})]:t._e()]:[t.ticketSaleClosed?[t._m(0),s(t.steps.seatmap.component,{tag:"component",staticClass:"NDT-Tickets__Step",attrs:{"read-only":""}})]:[s("section",{staticClass:"NDT-Tickets__Steps"},[s("p",{staticClass:"NDT-Tickets__Unavailable"},[t.event.signupStart?[s("vue-countdown",{attrs:{time:t.signupStart,"leading-zero":!1},on:{countdownend:t.refresh},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[t._v("\n                    Salget starter om "),s("strong",[t._v("\n                      "+t._s(e.days)+" dager, "+t._s(e.hours)+" timer, "+t._s(e.minutes)+" minutter, og "+t._s(e.seconds)+" sekunder\n                    ")])])]}}])})]:[t._v("\n              Vi kommer tilbake med mer informasjon snart.\n            ")]],2)])]]]],2)},u=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"NDT-Tickets__Steps"},[s("p",{staticClass:"NDT-Tickets__Unavailable"},[t._v("\n            Billettsalget er avsluttet.\n          ")])])}],l=(s("ac6a"),s("456d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"NDT-Seatmap"},[s("b-container",[t.readOnly?t._e():s("div",{staticClass:"NDT-Seatmap__Loader",class:{"NDT-Seatmap__Loader--show":t.reserving||t.mySeat}},[t.reserving?[s("h5",[s("icon",{staticClass:"NDT-Seatmap__Loading__Spinner",attrs:{spin:"",icon:"spinner"}}),t._v("\n          Oppdaterer reservasjon\n        ")],1)]:[t.mySeatAvailable?[s("h5",{staticClass:"NDT-Seatmap__Reservation"},[s("b-button",{staticClass:"NDT-Seatmap__Reservation__Delete",attrs:{variant:"danger",size:"sm"},on:{click:t.clearReservation}},[s("icon",{staticClass:"NDT-Seatmap__Reservation__Delete__Icon",attrs:{icon:"trash"}}),t._v("\n               Slett reservasjon\n            ")],1),t._v("\n             \n            "),s("vue-countdown",{attrs:{time:t.reservationTime},on:{countdownend:t.fetchSeatmap},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                Reservasjon utløper "+t._s(e.minutes)+":"+t._s(e.seconds))]}}])})],1)]:[s("h5",[t._v(" ")])]]],2)]),!t.seats.length||t.fetchingSeatmap?[s("h5",[s("icon",{staticClass:"NDT-Seatmap__Loading__Spinner",attrs:{spin:"",icon:"spinner"}}),t._v("\n      Henter kart...\n    ")],1)]:[s("section",{staticClass:"NDT-Seatmap__Available"},[t._v("\n      "+t._s(t.available)+" av "+t._s(t.seats.length)+" plasser ledig\n    ")]),s("section",{staticClass:"NDT-Seatmap__Explanation"},[s("div",{staticClass:"NDT-Seatmap__Preview"},[s("ndt-seat",{attrs:{"seat-type":"free"}}),s("span",[t._v("Ledig")])],1),s("div",{staticClass:"NDT-Seatmap__Preview"},[s("ndt-seat",{attrs:{"seat-type":"taken","my-seat":""}}),s("span",[t._v("Min plass")])],1),s("div",{staticClass:"NDT-Seatmap__Preview"},[s("ndt-seat",{attrs:{"seat-type":"disabled"}}),s("span",[t._v("Reservert")])],1),s("div",{staticClass:"NDT-Seatmap__Preview"},[s("ndt-seat",{attrs:{"seat-type":"taken"}}),s("span",[t._v("Bestilt")])],1)]),s("div",{staticClass:"NDT-Seatmap__Seatmap"},t._l(t.height,function(e){return s("div",{key:"row-"+(e-1),staticClass:"NDT-Seatmap__Row"},t._l(t.width,function(n){return s("div",{key:"row-"+(n-1),staticClass:"NDT-Seatmap__Column"},[s("ndt-seat",{attrs:{x:n-1,y:e-1,reserving:t.reserving,"my-seat":t.mySeat&&t.mySeat.x===n-1&&t.mySeat.y===e-1,readOnly:t.readOnly},on:{reserve:t.reserve,reserved:t.reserved}})],1)}))}))]],2)}),p=[],h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"NDT-Seat",class:t.seatClass,attrs:{title:t.seatTitle},on:{click:t.reserve}})},d=[],_=(s("c5f6"),{name:"NDTSeat",props:{readOnly:{type:Boolean,default:!1},x:{type:Number,default:null},y:{type:Number,default:null},seatType:{type:String,default:null},mySeat:{type:Boolean,default:!1},reserving:!1},data:function(t){return{isReserving:!1}},computed:Object(r["a"])({},Object(c["c"])({seats:"seatmap/seats",token:"auth/token",user:"user/user"}),{seat:function(){var t=this;return this.seats.find(function(e){var s=e.x,n=e.y;return s===t.x&&n===t.y})},seatClass:function(){var t=this.seat,e=this.seatType;this.user;return{"NDT-Seat--Free":"free"===e||t&&"free"===t.status,"NDT-Seat--Taken":"taken"===e||t&&"taken"===t.status,"NDT-Seat--Disabled":!this.mySeat&&("disabled"===e||t&&"reserved"===t.status),"NDT-Seat--Reserving":this.reserving,"NDT-Seat--MySeat":this.mySeat}},seatTitle:function(){return!!this.seat&&(this.seat.user?this.user&&this.seat.user[0]===this.user.id?"Rad: ".concat(this.seat.row,", Plass: ").concat(this.seat.seat," (Min reservasjon)"):"Rad: ".concat(this.seat.row,", Plass: ").concat(this.seat.seat," (").concat(this.seat.user[1],")"):"Rad: ".concat(this.seat.row,", Plass: ").concat(this.seat.seat))}}),methods:Object(r["a"])({},Object(c["b"])({setSeats:"seatmap/setSeats",setWidth:"seatmap/setWidth",setHeight:"seatmap/setHeight",showAuth:"modals/showAuth"}),{reserve:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.readOnly){t.next=29;break}if(this.user){t.next=5;break}this.showAuth(),t.next=29;break;case 5:if(this.mySeat){t.next=29;break}if(!("free"===this.seat.status||this.user&&this.seat.user&&this.seat.user[0]===this.user.id)){t.next=29;break}return this.isReserving=!0,this.$emit("reserve",!0),t.prev=9,t.next=12,this.$api.put("seatmap/reserve/".concat(this.seat.id),{owner:this.token});case 12:return e=t.sent,t.next=15,this.$api.get("seatmap");case 15:s=t.sent,this.setSeats(s.seats),this.setWidth(s.width),this.setHeight(s.height),e&&this.$emit("reserved",this.seat),t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](9),console.error(t.t0);case 25:return t.prev=25,this.$emit("reserve",!1),this.isReserving=!1,t.finish(25);case 29:case"end":return t.stop()}},t,this,[[9,22,25,29]])}));return function(){return t.apply(this,arguments)}}()})}),m=_,f=(s("1f0f"),s("2877")),v=Object(f["a"])(m,h,d,!1,null,"6fb8d19c",null);v.options.__file="NdtSeat.vue";var T=v.exports,k=1e3,g=60*k,S=60*g,b=24*S,y={name:"countdown",data:function(){return{count:0,counting:!1,endTime:0}},props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3},leadingZero:{type:Boolean,default:!0},now:{type:Function,default:function(){return Date.now()}},time:{type:Number,default:0,validator:function(t){return t>=0}},tag:{type:String,default:"span"}},computed:{days:function(){return Math.floor(this.count/b)},hours:function(){return Math.floor(this.count%b/S)},minutes:function(){return Math.floor(this.count%S/g)},seconds:function(){var t=this.interval,e=this.count%g/k;return t<10?parseFloat(e.toFixed(3)):t>=10&&t<100?parseFloat(e.toFixed(2)):t>=100&&t<1e3?parseFloat(e.toFixed(1)):Math.floor(e)},totalDays:function(){return this.days},totalHours:function(){return Math.floor(this.count/S)},totalMinutes:function(){return Math.floor(this.count/g)},totalSeconds:function(){var t=this.interval,e=this.count/k;return t<10?parseFloat(e.toFixed(3)):t>=10&&t<100?parseFloat(e.toFixed(2)):t>=100&&t<1e3?parseFloat(e.toFixed(1)):Math.floor(e)}},render:function(t){var e=this,s=function(t){return e.leadingZero&&t<10?"0".concat(t):t};return t(this.tag,this.$scopedSlots.default?[this.$scopedSlots.default({days:s(this.days),hours:s(this.hours),minutes:s(this.minutes),seconds:s(this.seconds),totalDays:s(this.totalDays),totalHours:s(this.totalHours),totalMinutes:s(this.totalMinutes),totalSeconds:s(this.totalSeconds)})]:this.$slots.default)},methods:{init:function(){var t=this,e=this.time;e>0&&(this.count=e,this.endTime=this.now()+e,this.autoStart&&this.$nextTick(function(){t.start()}))},start:function(){this.counting||(this.emitEvents&&this.$emit("countdownstart"),this.counting=!0,this.next())},pause:function(){this.counting&&(this.emitEvents&&this.$emit("countdownpause"),this.counting=!1,clearTimeout(this.timeout))},next:function(){this.timeout=setTimeout(this.step.bind(this),this.interval)},step:function(){this.counting&&(this.count>this.interval?(this.count-=this.interval,this.emitEvents&&this.count>0&&this.$emit("countdownprogress",{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds}),this.next()):(this.count=0,this.stop()))},stop:function(){this.counting=!1,clearTimeout(this.timeout),this.timeout=void 0,this.emitEvents&&this.$emit("countdownend")},update:function(){this.counting&&(this.count=Math.max(0,this.endTime-this.now()))}},watch:{time:function(){this.init()}},created:function(){this.init()},mounted:function(){window.addEventListener("focus",this.onFocus=this.update.bind(this))},beforeDestroy:function(){window.removeEventListener("focus",this.onFocus),clearTimeout(this.timeout)}},N=y,D=s("c1df"),C=s.n(D),w={name:"NDTSeatmap",components:{NdtSeat:T,VueCountdown:N},props:{readOnly:{type:Boolean,default:!1}},data:function(t){return{selected:null,fetchingSeatmap:!1,reserving:!1,updateTimer:null}},computed:Object(r["a"])({},Object(c["c"])({width:"seatmap/width",height:"seatmap/height",available:"seatmap/available",seats:"seatmap/seats",user:"user/user",mySeat:"seatmap/mySeat",token:"auth/token"}),{reservationTime:function(){if(this.mySeat){var t=C()(),e=C()(this.mySeat.reserved),s=C.a.duration(e.diff(t));return s.asMilliseconds()}return 0},mySeatAvailable:function(){return!!this.mySeat&&this.reservationTime>0}}),methods:Object(r["a"])({},Object(c["b"])({setSeats:"seatmap/setSeats",setWidth:"seatmap/setWidth",setHeight:"seatmap/setHeight"}),{clearReservation:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.mySeat){t.next=7;break}return this.reserve(!0),t.next=4,this.$api.delete("seatmap/reserve/".concat(this.mySeat.id),{owner:this.token});case 4:return t.next=6,this.fetchSeatmap();case 6:this.reserve(!1);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),reserve:function(t){this.reserving=t},reserved:function(t){this.$emit("complete-step",t)},fetchSeatmap:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.seats&&this.seats.length||(this.fetchingSeatmap=!0),t.next=3,this.$api.get("seatmap");case 3:e=t.sent,this.setSeats(e.seats),this.setWidth(e.width),this.setHeight(e.height),this.fetchingSeatmap&&(this.fetchingSeatmap=!1);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),mounted:function(){var t=this;this.fetchSeatmap(),this.updateTimer=setInterval(function(){return t.fetchSeatmap()},6e4)}},x=w,O=(s("d320"),Object(f["a"])(x,l,p,!1,null,"0f47d479",null));
/*!
 * vue-countdown v1.0.1
 * https://xkeshi.github.io/vue-countdown
 *
 * Copyright 2017-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2018-09-06T13:42:33.119Z
 */O.options.__file="NdtSeatmap.vue";var j=O.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"NDT-Tickets"},[s("b-form",[s("b-container",[s("b-row",{staticClass:"NDT-Tickets__Container"},t._l(t.ticketTypes,function(e){return s("b-col",{key:e.id,attrs:{lg:"6"}},[s("b-card",{staticClass:"NDT-Tickets__Ticket",class:{"NDT-Tickets__Ticket--Selected":t.selectedTicket===e.id},attrs:{"text-variant":"white"},on:{click:function(s){t.selectTicket(e.id)}}},[s("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("\n                "+t._s(e.name)+"\n              ")]),s("p",{staticClass:"NDT-Tickets__Ticket__Description",domProps:{innerHTML:t._s(e.description)}}),s("div",{staticClass:"NDT-Tickets__Ticket__Price"},[s("strong",[t._v("Pris: ")]),t._v(" "+t._s(e.price)+",-\n              ")])])],1)}))],1)],1)],1)},P=[],$={name:"NDTTicket",computed:Object(r["a"])({},Object(c["c"])({ticketTypes:"tickets/types",selectedTicket:"tickets/selected",mySeat:"seatmap/mySeat"})),methods:Object(r["a"])({},Object(c["b"])({setTicketTypes:"tickets/setTicketTypes",selectTicket:"tickets/selectTicket"})),mounted:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.get("ticket-types");case 2:e=t.sent,this.setTicketTypes(e),this.selectedTicket&&this.ticketTypes.find(function(t){return t.id===s.selectedTicket})||this.selectTicket(this.ticketTypes[0].id);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},R=$,M=(s("26aa"),Object(f["a"])(R,A,P,!1,null,"504beb14",null));M.options.__file="NdtTicket.vue";var E=M.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"NDT-Payment"},[s("h3",{staticClass:"NDT-Payment__Event"},[t._v("\n    NDT-LAN "+t._s(t.currentEvent.name)+"\n  ")]),s("h4",{staticClass:"NDT-Payment__Ticket"},[t._v("\n    "+t._s(t.ticket.name)+"\n  ")]),s("h4",{staticClass:"NDT-Payment__Seat"},[t._v("\n    "+t._s(t.mySeat.title)+"\n  ")]),s("h5",{staticClass:"NDT-Payment__Price"},[t._v("\n    Pris: "+t._s(t.ticket.price)+",-\n  ")]),s("b-button",{attrs:{size:"lg",variant:"success",disabled:t.isPaying},on:{click:t.checkout}},[s("icon",{attrs:{icon:t.isPaying?"spinner":"",spin:t.isPaying}}),t._v(" Betal nå\n  ")],1)],1)},H=[],B=s("a322"),F=(s("7f7f"),{name:"NDTPayment",data:function(t){return{isPaying:!1}},computed:Object(r["a"])({},Object(c["c"])({user:"user/user",ticketTypes:"tickets/types",mySeat:"seatmap/mySeat",authToken:"auth/token",currentEvent:"events/current",selectedTicket:"tickets/selected"}),{ticket:function(){var t=this;return this.ticketTypes.find(function(e){return e.id===t.selectedTicket})}}),methods:Object(r["a"])({},Object(c["b"])({setSignups:"user/setSignups"}),{checkout:function(){var t,e=this;(this.isPaying=!0,this.ticket.price)&&this.$checkout.open((t={name:"NDT-LAN"},Object(B["a"])(t,"name",this.user.name),Object(B["a"])(t,"email",this.user.email),Object(B["a"])(t,"amount",100*this.ticket.price),Object(B["a"])(t,"token",function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(s){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.post("pay",{ticket:e.ticket.id,user:e.authToken,token:s.id});case 2:return t.next=4,e.$api.get("signups?user=".concat(e.authToken));case 4:n=t.sent,e.setSignups(n),e.isPaying=!1;case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),t))}})}),I=F,Y=(s("cd72"),Object(f["a"])(I,L,H,!1,null,"1dd1e926",null));Y.options.__file="NdtPayment.vue";var U=Y.exports,V={name:"Tickets",data:function(t){return{step:null}},components:{VueCountdown:N},methods:{refresh:function(){window.location.reload()},incrementStep:function(){var t=this.step,e=Object.keys(this.steps),s=e.indexOf(t);-1!==s?e[s+1]&&(this.step=e[s+1]):this.step=e[0],t&&this.completeStep(t)},decrementStep:function(){var t=Object.keys(this.steps),e=t.indexOf(this.step);-1!==e&&t[e-1]&&(this.step=t[e-1])},completeStep:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.steps[t||this.step].completed=!0},changeStep:function(t){this.steps[t].completed&&(this.step=t)}},mounted:function(){var t=this,e=Object.keys(this.steps);e.forEach(function(s){if(t.steps[s].completed){var n=e.indexOf(s);t.step=s,-1!==n&&e[n+1]&&(t.step=e[n+1])}}),this.step||this.incrementStep()},watch:{mySeat:function(t){t||(this.step=Object.keys(this.steps)[0])}},computed:Object(r["a"])({},Object(c["c"])({mySeat:"seatmap/mySeat",event:"events/current",selectedTicket:"tickets/selected",hasSignup:"user/hasSignup",user:"user/user"}),{ticketSaleAvailable:function(){if(this.event){var t=this.event.signupStart;if(t){var e=C()(),s=C()(t);return e.isAfter(s)}}},ticketSaleClosed:function(){if(this.event){var t=this.event,e=(t.signupStart,t.signupStop);if(e){var s=C()(),n=C()(e);return s.isAfter(n)}}},steps:function(){return{seatmap:{completed:Boolean(this.mySeat),component:j},ticket:{completed:Boolean(this.selectedTicket),component:E},payment:{completed:!1,component:U}}},seatmapClass:function(){var t="seatmap"===this.step;return{"NDT-Tickets__Steps__Step":!0,"NDT-Tickets__Steps__Step--Active":t}},signupStart:function(){return C()(this.event.signupStart).unix()/1e4},seatmapIcon:function(){return this.steps.seatmap.completed?"check-circle":"circle"},nextEnabled:function(){var t=Object.keys(this.steps),e=t.indexOf(this.step),s=this.steps[this.step].completed,n=-1!==e&&this.steps[t[e+1]];return s&&n},previousEnabled:function(){var t=Object.keys(this.steps),e=t.indexOf(this.step),s=-1!==e&&this.steps[t[e-1]];return Boolean(s)},ticketClass:function(){var t="ticket"===this.step;return{"NDT-Tickets__Steps__Step":!0,"NDT-Tickets__Steps__Step--Active":t}},ticketIcon:function(){return this.steps.ticket.completed?"check-circle":"circle"},paymentClass:function(){var t="payment"===this.step;return{"NDT-Tickets__Steps__Step":!0,"NDT-Tickets__Steps__Step--Active":t}},paymentIcon:function(){return this.steps.payment.completed?"check-circle":"circle"}})},W=V,z=(s("8076"),Object(f["a"])(W,o,u,!1,null,"e212cd6a",null));z.options.__file="Tickets.vue";var q=z.exports,J={name:"Page",components:{Tickets:q},props:{slug:{type:String,default:null}},computed:Object(r["a"])({},Object(c["c"])({pages:"pages/pages"}),{page:function(){var t=this;return this.pages.find(function(e){var s=e.slug;return s===t.slug})}}),methods:Object(r["a"])({},Object(c["b"])({setPages:"pages/setPages"})),mounted:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.get("pages");case 2:e=t.sent,this.setPages(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},Z=J,G=(s("409d"),Object(f["a"])(Z,n,i,!1,null,"3ae56d01",null));G.options.__file="Page.vue";e["default"]=G.exports},2568:function(t,e,s){},"26aa":function(t,e,s){"use strict";var n=s("7582"),i=s.n(n);i.a},"3e14":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("article",{staticClass:"NDT-Article",class:{"NDT-Article--Link":t.excerpt},on:{click:t.onClick}},[s("h1",{staticClass:"NDT-Article__Header"},[t.excerpt?[s("router-link",{attrs:{to:t.articleLink}},[t._v("\n        "+t._s(t.article.name)+"\n      ")])]:[s("span",[t._v("\n        "+t._s(t.article.name)+"\n      ")])],s("section",{staticClass:"NDT-Article__Meta"},[s("div",{staticClass:"NDT-Article__Meta__Updated"},[t.article.updated===t.article.created?[t._v("\n          Publisert "),s("strong",[t._v(t._s(t.publised))])]:[t._v("\n          Sist oppdatert "),s("strong",[t._v(t._s(t.updated))])]],2)])],2),t.article.banner?[s("img",{staticClass:"NDT-Article__Banner",class:{"NDT-Article__Banner--Excerpt":t.excerpt},attrs:{src:t.banner}})]:t._e(),s("div",{staticClass:"NDT-Article__Intro",class:{"NDT-Article__Intro--Excerpt":t.excerpt},domProps:{innerHTML:t._s(t.article.intro)}}),t.excerpt?[s("router-link",{staticClass:"NDT-Article__ReadMore",attrs:{to:t.articleLink}},[t._v("\n      Les mer "),s("icon",{attrs:{icon:"arrow-right"}})],1)]:[s("div",{staticClass:"NDT-Article__Body",domProps:{innerHTML:t._s(t.article.body)}})]],2)},i=[],a=(s("7514"),s("c93e")),r=(s("c5f6"),s("c1df")),c=s.n(r),o=s("2f62"),u="https://d1i137u4q32ft6.cloudfront.net/media";function l(t,e,s,n){return n=n||s,"".concat(u,"/").concat(e,"/").concat(s,"x").concat(n,"/").concat(t)}var p=l,h={name:"NDTArticle",props:{articleId:{type:Number,required:!0},excerpt:{type:Boolean,default:!1}},computed:Object(a["a"])({},Object(o["c"])({articles:"articles/articles"}),{article:function(){var t=this;return this.articles.find(function(e){var s=e.id;return s===t.articleId})},updated:function(){return c()(this.article.updated).format("DD/MM/YYYY")},published:function(){return c()(this.article.published).format("DD/MM/YYYY")},banner:function(){if(this.article.banner){var t=this.excerpt?"rc":"l";return p(this.article.banner,t,800,400)}},articleLink:function(){return{name:"article",params:{slug:this.article.slug}}}}),methods:{onClick:function(){this.excerpt&&this.$router.push(this.articleLink)}}},d=h,_=(s("bf0f"),s("2877")),m=Object(_["a"])(d,n,i,!1,null,"9d18a148",null);m.options.__file="NdtArticle.vue";e["a"]=m.exports},"409d":function(t,e,s){"use strict";var n=s("2568"),i=s.n(n);i.a},4324:function(t,e,s){"use strict";var n=s("ab68"),i=s.n(n);i.a},4428:function(t,e,s){},"456d":function(t,e,s){var n=s("4bf8"),i=s("0d58");s("5eda")("keys",function(){return function(t){return i(n(t))}})},"5eda":function(t,e,s){var n=s("5ca1"),i=s("8378"),a=s("79e5");t.exports=function(t,e){var s=(i.Object||{})[t]||Object[t],r={};r[t]=e(s),n(n.S+n.F*a(function(){s(1)}),"Object",r)}},"6f17":function(t,e,s){},7582:function(t,e,s){},8076:function(t,e,s){"use strict";var n=s("6f17"),i=s.n(n);i.a},"83f7":function(t,e,s){},ab68:function(t,e,s){},bb51:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Home"},[t.fetchingArticles?[s("div",{staticClass:"Home__Loading"},[s("h5",[s("icon",{staticClass:"Home__Loading__Spinner",attrs:{spin:"",icon:"spinner"}}),t._v("\n        Henter artikler...\n      ")],1)])]:t._l(t.sortedArticles,function(t){return s("ndt-article",{key:t.id,attrs:{"article-id":t.id,excerpt:""}})})],2)},i=[],a=(s("96cf"),s("3040")),r=(s("55dd"),s("c93e")),c=s("2f62"),o=s("3e14"),u={name:"Home",components:{NdtArticle:o["a"]},data:function(t){return{fetchingArticles:!1}},computed:Object(r["a"])({},Object(c["c"])({articles:"articles/articles"}),{sortedArticles:function(){return this.articles.filter(function(t){return!0}).sort(function(t,e){return e.id-t.id})}}),methods:Object(r["a"])({},Object(c["b"])({setArticles:"articles/setArticles"})),mounted:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.articles&&this.articles.length||(this.fetchingArticles=!0),t.next=3,this.$api.get("articles");case 3:e=t.sent,this.setArticles(e),this.fetchingArticles&&(this.fetchingArticles=!1);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},l=u,p=(s("4324"),s("2877")),h=Object(p["a"])(l,n,i,!1,null,"d4d1f382",null);h.options.__file="Home.vue";e["default"]=h.exports},bf0f:function(t,e,s){"use strict";var n=s("e7de"),i=s.n(n);i.a},c100:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},i=[],a=(s("a481"),s("c93e")),r=s("2f62"),c={name:"Logut",methods:Object(a["a"])({},Object(r["b"])({setToken:"auth/setToken",setUser:"user/setUser",hideAuth:"modals/hideAuth"})),mounted:function(){this.hideAuth(),this.setUser(null),this.setToken(null),this.$router.replace({name:"home"})}},o=c,u=s("2877"),l=Object(u["a"])(o,n,i,!1,null,null,null);l.options.__file="Logout.vue";e["default"]=l.exports},cd72:function(t,e,s){"use strict";var n=s("ddb3"),i=s.n(n);i.a},d320:function(t,e,s){"use strict";var n=s("4428"),i=s.n(n);i.a},ddb3:function(t,e,s){},e7de:function(t,e,s){}}]);
//# sourceMappingURL=home.1905a14c.js.map